<!DOCTYPE html>
<html lang="en" ng-app="gemStore">
<head>
	<meta charset="UTF-8">
	<title>Chuy</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
</head>
<body>
	<div class="controller" ng-controller="StoreController as store">
		<div class="product row" class="list-group" ng-repeat="product in store.products">
			<div class="list-group-item">
				<h1>{{product.name}}</h1>
				<img class="center-block" ng-src="{{product.images[0].url}}" alt="">
				<em class="pull-right"></em>
				<h1>{{product.price}}</h1>
				<section ng-init="tab = 1" ng-controller="PanelController as panel" >
					<ul class="nav nav-pills">
						<li ng-class="{active: panel.isSelected(1)">
							<a href="" ng-click="panel.selectTab(1)">Description</a>
						</li>							
						<li ng-class="{active: panel.isSelected(2)">
							<a href="" ng-click="panel.selectTab(2)">Specification</a>
						</li>
	 					<li ng-class="{active: panel.isSelected(3)">
	 						<a href="" ng-click="panel.selectTab(3)">Reviews</a>
						</li>
					</ul>
					<div class="panel" ng-show="panel.isSelected(1)">
						<h4>Description</h4>
						<p>{{product.description}}</p>
					</div>
					<div class="panel" ng-show="panel.isSelected(2)">
						<h4>Specification</h4>
						<p>None Yet</p>
					</div>
					<div class="panel" ng-show="panel.isSelected(3)">
						<h4>Review</h4>
						<blockquote ng-repeat="review in product.reviews">
							<b>Stars:{{review.stars}}</b>
							{{review.body}}
							<br>
							<cite>by: {{review.author}}</cite>
						</blockquote>
						<form name="reviewForm" ng-controller="ReviewsController as reviewCtrl" ng-submit="reviewCtrl.addReview(product)">
							<div class="row">
							<blockquote>
								<b>Stars: {{reviewCtrl.review.stars}}</b>
								{{reviewCtrl.review.body}}
								<cite>By:{{reviewCtrl.review.author}}</cite>
							</blockquote>
							<div class="col-lg-12 form-group">
								<label for="rate">Rate this product</label>
								<select  id="rate" class="form-control" ng-model="reviewCtrl.review.stars">
									<option value="rate" selected="selected"> Rate this product</option>
									<option value="1">1 Star</option>
									<option value="2">2 Stars</option>
									<option value="3">3 Stars</option>
									<option value="4">4 Stars</option>
									<option value="5">5 Stars</option>
								</select>
							</div>
							<div class="col-lg-12 form-group">
								<label for="body">Write a review</label>
								<textarea id="body" cols="20" rows="5" class="form-control" ng-model="reviewCtrl.review.body"></textarea>
							</div>
							<div class="col-lg-12 form-group">
								<label>by:</label>
								<input type="email" class="form-control" ng-model="reviewCtrl.review.athor">
							</div>
							<div class="col-lg-6 pull-right">
								<input type="submit" value="Submit" class="form-control">
							</div>
							</div>
						</form>
					</div>
				</section>
			</div>
		</div>
	</div>

	<script src="js/angular.min.js"></script>
	<script src="js/app.js"></script>
	<script src="js/bootstrap.min.js"></script>

</body>
</html>